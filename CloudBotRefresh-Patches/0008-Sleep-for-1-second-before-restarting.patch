From b0e3170be8b0a245556c2c86597d87b9f59396bf Mon Sep 17 00:00:00 2001
From: Dabo Ross <daboross@daboross.net>
Date: Sun, 6 Apr 2014 21:59:08 -0700
Subject: [PATCH] Sleep for 1 second before restarting


diff --git a/cloudbot.py b/cloudbot.py
index af50540..e8a905f 100755
--- a/cloudbot.py
+++ b/cloudbot.py
@@ -3,12 +3,15 @@ import os
 import sys
 import time
 import signal
-import traceback
 
 from core import bot
 
 
 
+<<<<<<< HEAD
+=======
+
+>>>>>>> Sleep for 1 second before restarting
 # check python version 
 if sys.version_info < (3, 2, 0):
     print("CloudBot3 requires Python 3.2 or newer.")
@@ -55,16 +58,8 @@ class CloudBotWrapper():
                 if self.cloudbot.do_restart:
                     # create a new bot thread and start it
                     del self.cloudbot
-                    print("Restarting in 5 seconds")
-                    time.sleep(5)
-                    print("Thread dump:")
-                    for threadId, stack in sys._current_frames().items():
-                        print("\n# ThreadID: %s" % threadId)
-                        for filename, lineno, name, line in traceback.extract_stack(stack):
-                            print('File: "%s", line %d, in %s' % (filename, lineno, name))
-                            if line:
-                                print("  %s" % (line.strip()))
-
+                    print("Restarting")
+                    time.sleep(1)  # sleep one second for timeouts
                     self.cloudbot = bot.CloudBot()
                     self.cloudbot.start()
                     continue
-- 
1.9.1

