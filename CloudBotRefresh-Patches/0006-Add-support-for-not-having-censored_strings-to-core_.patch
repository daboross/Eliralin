From 3e8e7d6fac2f99d0882a229e56e1136568c5cea1 Mon Sep 17 00:00:00 2001
From: Dabo Ross <daboross@daboross.net>
Date: Sat, 12 Apr 2014 22:36:01 -0700
Subject: [PATCH] Add support for not having censored_strings to core_misc - as
 it is not included in config.default


diff --git a/plugins/core_misc.py b/plugins/core_misc.py
index 9507016..fa47447 100644
--- a/plugins/core_misc.py
+++ b/plugins/core_misc.py
@@ -1,6 +1,5 @@
 import socket
 import time
-import re
 
 from util import hook
 
@@ -26,13 +25,14 @@ def onjoin(paraml, conn=None, bot=None):
         nickserv_account_name = nickserv.get('nickserv_user', '')
         nickserv_command = nickserv.get('nickserv_command', 'IDENTIFY')
         if nickserv_password:
-            if nickserv_password in bot.config['censored_strings']:
+            if "censored_strings" in bot.config and nickserv_password in bot.config['censored_strings']:
                 bot.config['censored_strings'].remove(nickserv_password)
             if nickserv_account_name:
                 conn.msg(nickserv_name, "{} {} {}".format(nickserv_command, nickserv_account_name, nickserv_password))
             else:
                 conn.msg(nickserv_name, "{} {}".format(nickserv_command, nickserv_password))
-            bot.config['censored_strings'].append(nickserv_password)
+            if "censored_strings" in bot.config:
+                bot.config['censored_strings'].append(nickserv_password)
             time.sleep(1)
 
     # Set bot modes
-- 
1.9.2

