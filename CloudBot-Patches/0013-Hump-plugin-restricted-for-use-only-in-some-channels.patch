From 3b292f37248871283193ed3928de00e1a521350a Mon Sep 17 00:00:00 2001
From: Dabo Ross <daboross@daboross.net>
Date: Wed, 27 Nov 2013 03:28:02 -0800
Subject: [PATCH] Hump plugin - restricted for use only in some channels


diff --git a/plugins/hump.py b/plugins/hump.py
new file mode 100644
index 0000000..1e3dd4e
--- /dev/null
+++ b/plugins/hump.py
@@ -0,0 +1,49 @@
+from util import hook
+import time
+import re
+
+
+strip_regex = re.compile("\x03(?:\d{1,2}(?:,\d{1,2})?)?", re.UNICODE)
+enabled_chans = ["#aem", "#olive"]
+
+
+@hook.command(autohelp=False)
+def hump(inp, action=None, nick=None, chan=None):
+    """hump - humps"""
+    if not chan in enabled_chans:
+        return
+    time.sleep(10)
+    action("humps {}".format(nick))
+
+
+@hook.regex("(?<=humps ).+")
+def hump_action(match, action=None, nick=None, chan=None):
+    if not chan in enabled_chans:
+        return
+    str = strip_regex.sub("", match.group(0))
+    if re.search(".*e.*l.*i.*r.*a.*l.*i.*n.*", str.lower()):
+        str = nick
+    else:
+        time.sleep(1)
+    action("humps {}".format(str))
+
+
+@hook.regex("Hello Eliralin(!| |\\.)*")
+def hello(match, nick=None, chan=None):
+    if not chan in enabled_chans:
+        return
+    return "Hello {}!".format(nick)
+
+
+@hook.regex("Hello Eliralin\\?*")
+def hello(match, nick=None, chan=None):
+    if not chan in enabled_chans:
+        return
+    return "Hi {}. What's your question?".format(nick)
+
+
+@hook.regex("(^ )*pets Eliralin")
+def pet(inp, action=None, nick=None, chan=None):
+    if not chan in enabled_chans:
+        return
+    action("hugs {}".format(nick))
-- 
1.8.3.2

