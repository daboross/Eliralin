From 1ce7ed315b3a0ee8baecfa532263b6ba5183379c Mon Sep 17 00:00:00 2001
From: Dabo Ross <daboross@daboross.net>
Date: Wed, 27 Nov 2013 03:10:57 -0800
Subject: [PATCH] Add multiple channel support to admin.py


diff --git a/plugins/admin.py b/plugins/admin.py
index 59f3871..987e1b4 100644
--- a/plugins/admin.py
+++ b/plugins/admin.py
@@ -138,8 +138,11 @@ def clearlogs(inp, input=None):
 @hook.command(permissions=["botcontrol"])
 def join(inp, conn=None, notice=None):
     """join <channel> -- Joins <channel>."""
-    notice("Attempting to join {}...".format(inp))
-    conn.join(inp)
+    for target in inp.split(" "):
+        if not target.startswith("#"):
+            target = "#{}".format(target)
+        notice("Attempting to join {}...".format(target))
+        conn.join(target)
 
 
 @hook.command(autohelp=False, permissions=["botcontrol"])
@@ -148,11 +151,14 @@ def part(inp, conn=None, chan=None, notice=None):
     If [channel] is blank the bot will leave the
     channel the command was used in."""
     if inp:
-        target = inp
+        targets = inp
     else:
-        target = chan
-    notice("Attempting to leave {}...".format(target))
-    conn.part(target)
+        targets = chan
+    for target in targets.split(" "):
+        if not target.startswith("#"):
+            target = "#{}".format(target)
+        notice("Attempting to leave {}...".format(target))
+        conn.part(target)
 
 
 @hook.command(autohelp=False, permissions=["botcontrol"])
-- 
1.8.3.2

